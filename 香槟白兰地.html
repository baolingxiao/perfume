<!--
🌸 香料介绍页面
Last updated: 2025-07-01 15:27
Author: Perfume Workshop Team
Description: 香料详细介绍页面
-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>香槟白兰地（Champagne Cognac） - 香料介绍</title>
    <link rel="stylesheet" href="css/base_15-30.css">
</head>
<body style="background: var(--background-color);">
    <main class="linear-main">
        <div class="linear-card" style="max-width:520px;margin:auto;">
            <img src="images/ingredients/香槟白兰地.jpeg" alt="香槟白兰地" style="width:100%;border-radius:var(--border-radius);margin-bottom:var(--spacing);">
            <h1 style="margin-bottom:8px;">香槟白兰地（Champagne Cognac）</h1>
            <section style="margin-bottom:var(--spacing);">
                <b>主要产地与香气差异：</b>
                <ul style="margin:8px 0 0 1.2em;padding:0;color:var(--muted-text);">
                    <li>主要产于法国香槟区，以优质白葡萄为原料，经过双重蒸馏和橡木桶陈酿而成。</li>
                    <li>不同年份和产区的香槟白兰地香气差异主要体现在果香的复杂度、橡木桶带来的香草和焦糖气息，以及陈酿时间带来的干果和香料感。</li>
                </ul>
            </section>
            <section style="margin-bottom:var(--spacing);">
                <b>共通香气特征：</b>
                <div style="margin-top:8px;color:var(--muted-text);">
                    果香浓郁，带有明显的葡萄、梨、苹果等水果香气。橡木桶陈酿带来的香草、焦糖、干果和微微的香料感。整体香气优雅、复杂，带有微微的辛辣和木质调。
                </div>
            </section>
            <section>
                <b>使用场景：</b>
                <div style="margin-top:8px;color:var(--muted-text);">
                    常用于果香调、木质调、东方调香水，赋予作品优雅、成熟、复杂的气息。适合秋冬季节的正式场合、晚宴香氛、成熟稳重型香水。也常作为中调或后调，与玫瑰、琥珀、香草、檀香等搭配，增强层次感和持久度。
                </div>
            </section>
        </div>
    </main>
    
    <!-- 选择按钮 -->
    <div class="select-button-container">
        <button id="selectBtn" class="select-button">选择</button>
    </div>

    <script>
        // 获取当前香料信息
        const currentIngredient = {
            name: '香槟白兰地',
            image: 'images/ingredients/香槟白兰地.jpeg'
        };

        // 获取按钮元素
        const selectBtn = document.getElementById('selectBtn');

        // 从localStorage获取已选择的香料
        function getSelectedIngredients() {
            const selected = localStorage.getItem('selectedIngredients');
            return selected ? JSON.parse(selected) : [];
        }

        // 保存选择的香料到localStorage
        function saveSelectedIngredients(ingredients) {
            localStorage.setItem('selectedIngredients', JSON.stringify(ingredients));
        }

        // 检查当前香料是否已被选择
        function isCurrentIngredientSelected() {
            const selected = getSelectedIngredients();
            return selected.some(ingredient => ingredient.name === currentIngredient.name);
        }

        // 更新按钮状态
        function updateButtonState() {
            if (isCurrentIngredientSelected()) {
                selectBtn.textContent = '取消选择';
                selectBtn.classList.add('selected');
            } else {
                selectBtn.textContent = '选择';
                selectBtn.classList.remove('selected');
            }
        }

        // 选择/取消选择香料
        function toggleSelection() {
            let selected = getSelectedIngredients();
            
            if (isCurrentIngredientSelected()) {
                // 取消选择
                selected = selected.filter(ingredient => ingredient.name !== currentIngredient.name);
                saveSelectedIngredients(selected);
                updateButtonState();
            } else {
                // 检查是否已达到最大选择数量
                if (selected.length >= 5) {
                    alert('最多只能选择5种香料！');
                    return;
                }
                
                // 添加选择
                selected.push(currentIngredient);
                saveSelectedIngredients(selected);
                updateButtonState();
            }
        }

        // 绑定按钮点击事件
        selectBtn.addEventListener('click', toggleSelection);

        // 页面加载时更新按钮状态
        document.addEventListener('DOMContentLoaded', updateButtonState);
    </script>
</body>
</html> 