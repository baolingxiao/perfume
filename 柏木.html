<!--
🌸 香料介绍页面
Last updated: 2025-07-01 15:27
Author: Perfume Workshop Team
Description: 香料详细介绍页面
-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>柏木（Cypress） - 香料介绍</title>
    <link rel="stylesheet" href="css/base_15-30.css">
</head>
<body style="background: var(--background-color);">
    <main class="linear-main">
        <div class="linear-card" style="max-width:520px;margin:auto;">
            <img src="images/ingredients/柏木.jpeg" alt="柏木" style="width:100%;border-radius:var(--border-radius);margin-bottom:var(--spacing);">
            <h1 style="margin-bottom:8px;">柏木（Cypress）</h1>
            <section style="margin-bottom:var(--spacing);">
                <b>主要产地与香气差异：</b>
                <ul style="margin:8px 0 0 1.2em;padding:0;color:var(--muted-text);">
                    <li><b>地中海</b>：偏干香。</li>
                    <li><b>日本</b>：偏湿冷感。</li>
                </ul>
            </section>
            <section style="margin-bottom:var(--spacing);">
                <b>共通香气特征：</b>
                <div style="margin-top:8px;color:var(--muted-text);">
                    青绿、干木、树脂清香。
                </div>
            </section>
            <section>
                <b>使用场景：</b>
                <div style="margin-top:8px;color:var(--muted-text);">
                    清新木香、禅意东方调。
                </div>
            </section>
        </div>
        <div class="select-action" style="display:flex;justify-content:center;margin:24px 0;">
            <button id="select-btn" class="linear-btn">选择</button>
            <button id="cancel-btn" class="linear-btn" style="margin-left:16px;display:none;">取消选择</button>
        </div>
    </main>
    <script>
    (function(){
      var img = document.querySelector('.linear-card img');
      var imgSrc = img ? img.src : '';
      var selectBtn = document.getElementById('select-btn');
      var cancelBtn = document.getElementById('cancel-btn');
      function getSelected(){
        try{return JSON.parse(localStorage.getItem('selectedIngredients')||'[]');}catch(e){return[];}
      }
      function setSelected(arr){
        localStorage.setItem('selectedIngredients',JSON.stringify(arr));
        if(window.opener && window.opener.renderSelectedIngredients) window.opener.renderSelectedIngredients();
      }
      function updateBtn(){
        var arr = getSelected();
        if(arr.includes(imgSrc)){
          selectBtn.style.display='none';
          cancelBtn.style.display='inline-block';
        }else{
          selectBtn.style.display='inline-block';
          cancelBtn.style.display='none';
        }
      }
      selectBtn.onclick=function(){
        var arr = getSelected();
        if(arr.length>=5){alert('最多只能选择5种香料');return;}
        if(!arr.includes(imgSrc)) arr.push(imgSrc);
        setSelected(arr);
        updateBtn();
      };
      cancelBtn.onclick=function(){
        var arr = getSelected();
        arr=arr.filter(x=>x!==imgSrc);
        setSelected(arr);
        updateBtn();
      };
      updateBtn();
    })();
    </script>
</body>
</html> 