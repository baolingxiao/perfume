<!--
ğŸŒ¸ é¦™æ–™ä»‹ç»é¡µé¢
Last updated: 2025-07-01 15:27
Author: Perfume Workshop Team
Description: é¦™æ–™è¯¦ç»†ä»‹ç»é¡µé¢
-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èŒ‰è‰ï¼ˆJasmineï¼‰ - é¦™æ–™ä»‹ç»</title>
    <link rel="stylesheet" href="css/base_15-30.css">
</head>
<body style="background: var(--background-color);">
    <main class="linear-main">
        <div class="linear-card" style="max-width:520px;margin:auto;">
            <img src="perfume-workshop/images/ingredients/èŒ‰è‰.jpeg" alt="èŒ‰è‰" style="width:100%;border-radius:var(--border-radius);margin-bottom:var(--spacing);">
            <h1 style="margin-bottom:8px;">èŒ‰è‰ï¼ˆJasmineï¼‰</h1>
            <section style="margin-bottom:var(--spacing);">
                <b>ä¸»è¦äº§åœ°ä¸é¦™æ°”å·®å¼‚ï¼š</b>
                <ul style="margin:8px 0 0 1.2em;padding:0;color:var(--muted-text);">
                    <li><b>å°åº¦ï¼ˆJasmine Sambacï¼‰</b>ï¼šåŠ¨ç‰©æ„Ÿå¼ºã€æµ“çƒˆã€ç•¥å¸¦é’ç»¿å’Œå¥¶å‘³ï¼Œæ€§æ„Ÿè€Œå¥”æ”¾ã€‚</li>
                    <li><b>åŸƒåŠï¼ˆJasmine Grandiflorumï¼‰</b>ï¼šæŸ”å’Œã€èŠ±é¦™çº¯å‡€ï¼Œç¨å¸¦æœé¦™ã€‚</li>
                    <li><b>æ³•å›½æ ¼æ‹‰æ–¯</b>ï¼šé¦™æ°”ç»†è…»å¹³è¡¡ã€ç™½èŠ±æ„Ÿçªå‡ºï¼ŒåŠ¨ç‰©æ„Ÿè¢«å¼±åŒ–ã€‚</li>
                </ul>
            </section>
            <section style="margin-bottom:var(--spacing);">
                <b>å…±é€šé¦™æ°”ç‰¹å¾ï¼š</b>
                <div style="margin-top:8px;color:var(--muted-text);">
                    ç”œæ¶¦ã€é¦¥éƒã€ç•¥å¸¦åŠ¨ç‰©æ„Ÿä¸è„‚ç²‰æ„Ÿã€‚
                </div>
            </section>
            <section>
                <b>ä½¿ç”¨åœºæ™¯ï¼š</b>
                <div style="margin-top:8px;color:var(--muted-text);">
                    ä¸­è°ƒä¸»èŠ±ï¼Œå¸¸è§äºä¸œæ–¹è°ƒã€æ€§æ„Ÿå¥³é¦™ã€ç™½èŠ±é¦™è°ƒã€å¤œé¦™ç³»é¦™æ°´ã€‚
                </div>
            </section>
        </div>
    </main>
    
    <!-- é€‰æ‹©æŒ‰é’® -->
    <div class="select-button-container">
        <button id="selectBtn" class="select-button">é€‰æ‹©</button>
    </div>

    <script>
        // è·å–å½“å‰é¦™æ–™ä¿¡æ¯
        const currentIngredient = {
            name: 'èŒ‰è‰',
            image: 'perfume-workshop/images/ingredients/èŒ‰è‰.jpeg'
        };

        // è·å–æŒ‰é’®å…ƒç´ 
        const selectBtn = document.getElementById('selectBtn');

        // ä»localStorageè·å–å·²é€‰æ‹©çš„é¦™æ–™
        function getSelectedIngredients() {
            const selected = localStorage.getItem('selectedIngredients');
            return selected ? JSON.parse(selected) : [];
        }

        // ä¿å­˜é€‰æ‹©çš„é¦™æ–™åˆ°localStorage
        function saveSelectedIngredients(ingredients) {
            localStorage.setItem('selectedIngredients', JSON.stringify(ingredients));
        }

        // æ£€æŸ¥å½“å‰é¦™æ–™æ˜¯å¦å·²è¢«é€‰æ‹©
        function isCurrentIngredientSelected() {
            const selected = getSelectedIngredients();
            return selected.some(ingredient => ingredient.name === currentIngredient.name);
        }

        // æ›´æ–°æŒ‰é’®çŠ¶æ€
        function updateButtonState() {
            if (isCurrentIngredientSelected()) {
                selectBtn.textContent = 'å–æ¶ˆé€‰æ‹©';
                selectBtn.classList.add('selected');
            } else {
                selectBtn.textContent = 'é€‰æ‹©';
                selectBtn.classList.remove('selected');
            }
        }

        // é€‰æ‹©/å–æ¶ˆé€‰æ‹©é¦™æ–™
        function toggleSelection() {
            let selected = getSelectedIngredients();
            
            if (isCurrentIngredientSelected()) {
                // å–æ¶ˆé€‰æ‹©
                selected = selected.filter(ingredient => ingredient.name !== currentIngredient.name);
                saveSelectedIngredients(selected);
                updateButtonState();
            } else {
                // æ£€æŸ¥æ˜¯å¦å·²è¾¾åˆ°æœ€å¤§é€‰æ‹©æ•°é‡
                if (selected.length >= 5) {
                    alert('æœ€å¤šåªèƒ½é€‰æ‹©5ç§é¦™æ–™ï¼');
                    return;
                }
                
                // æ·»åŠ é€‰æ‹©
                selected.push(currentIngredient);
                saveSelectedIngredients(selected);
                updateButtonState();
            }
        }

        // ç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶
        selectBtn.addEventListener('click', toggleSelection);

        // é¡µé¢åŠ è½½æ—¶æ›´æ–°æŒ‰é’®çŠ¶æ€
        document.addEventListener('DOMContentLoaded', updateButtonState);
    </script>
</body>
</html> 