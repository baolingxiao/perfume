<!--
ğŸŒ¸ é¦™æ–™ä»‹ç»é¡µé¢
Last updated: 2025-07-01 15:27
Author: Perfume Workshop Team
Description: é¦™æ–™è¯¦ç»†ä»‹ç»é¡µé¢
-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¥¿è¥¿é‡ŒæŸ æª¬ï¼ˆSicilian Lemonï¼‰ - é¦™æ–™ä»‹ç»</title>
    <link rel="stylesheet" href="css/base_15-30.css">
</head>
<body style="background: var(--background-color);">
    <main class="linear-main">
        <div class="linear-card" style="max-width:520px;margin:auto;">
            <img src="perfume-workshop/images/è¥¿è¥¿é‡ŒæŸ æª¬.jpeg" alt="è¥¿è¥¿é‡ŒæŸ æª¬" style="width:100%;border-radius:var(--border-radius);margin-bottom:var(--spacing);">
            <h1 style="margin-bottom:8px;">è¥¿è¥¿é‡ŒæŸ æª¬ï¼ˆSicilian Lemonï¼‰</h1>
            <section style="margin-bottom:var(--spacing);">
                <b>ä¸»è¦äº§åœ°ä¸é¦™æ°”å·®å¼‚ï¼š</b>
                <ul style="margin:8px 0 0 1.2em;padding:0;color:var(--muted-text);">
                    <li><b>æ„å¤§åˆ©è¥¿è¥¿é‡Œ</b>ï¼šé¦™æ°”æœ€ä¸ºæ˜äº®æ¸…æ–°ï¼Œæœé¦™æµ“éƒï¼Œå¸¦æœ‰ç‹¬ç‰¹çš„é˜³å…‰æ„Ÿã€‚</li>
                    <li><b>å…¶ä»–åœ°ä¸­æµ·åœ°åŒº</b>ï¼šé¦™æ°”ç•¥å¸¦é…¸æ„Ÿï¼Œæœå‘³ç¨æ·¡ã€‚</li>
                </ul>
            </section>
            <section style="margin-bottom:var(--spacing);">
                <b>å…±é€šé¦™æ°”ç‰¹å¾ï¼š</b>
                <div style="margin-top:8px;color:var(--muted-text);">
                    æ˜äº®ã€æ¸…æ–°ã€æœé¦™ã€å¾®é…¸ã€‚
                </div>
            </section>
            <section>
                <b>ä½¿ç”¨åœºæ™¯ï¼š</b>
                <div style="margin-top:8px;color:var(--muted-text);">
                    æ¸…æ–°æœé¦™è°ƒã€å¤æ—¥é¦™æ°›ã€æŸ‘æ©˜è°ƒå‰è°ƒã€‚
                </div>
            </section>
        </div>
    </main>
    
    <!-- é€‰æ‹©æŒ‰é’® -->
    <div class="select-button-container">
        <button id="selectBtn" class="select-button">é€‰æ‹©</button>
    </div>

    <script>
        // æ˜¾ç¤ºæˆåŠŸæç¤º
        function showSuccessToast(message) {
            // ç§»é™¤å·²å­˜åœ¨çš„æç¤º
            const existingToast = document.querySelector('.success-toast');
            if (existingToast) {
                existingToast.remove();
            }
            
            const toast = document.createElement('div');
            toast.className = 'success-toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            // æ˜¾ç¤ºåŠ¨ç”»
            setTimeout(() => toast.classList.add('show'), 10);
            
            // 3ç§’åéšè—
            setTimeout(() => {
                toast.classList.remove('show');
                toast.classList.add('hide');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // é€‰æ‹©é¦™æ–™é€»è¾‘
        function toggleSelection() {
            const ingredientName = 'æŸ æª¬';
            const ingredientImage = 'perfume-workshop/images/è¥¿è¥¿é‡ŒæŸ æª¬.jpeg';
            
            let selectedIngredients = [];
            try {
                selectedIngredients = JSON.parse(localStorage.getItem('selectedIngredients') || '[]');
            } catch(e) {}
            
            // æ£€æŸ¥æ˜¯å¦å·²é€‰æ‹©
            const existingIndex = selectedIngredients.findIndex(item => 
                (typeof item === 'string' && item === ingredientImage) || 
                (typeof item === 'object' && item.name === ingredientName)
            );
            
            const button = document.querySelector('.select-button');
            
            if (existingIndex > -1) {
                // å–æ¶ˆé€‰æ‹©
                selectedIngredients.splice(existingIndex, 1);
                localStorage.setItem('selectedIngredients', JSON.stringify(selectedIngredients));
                button.textContent = 'é€‰æ‹©';
                button.classList.remove('selected');
                showSuccessToast('å·²å–æ¶ˆé€‰æ‹© ' + ingredientName);
            } else {
                // æ£€æŸ¥æ˜¯å¦å·²è¾¾åˆ°æœ€å¤§é€‰æ‹©æ•°é‡
                if (selectedIngredients.length >= 5) {
                    showSuccessToast('æœ€å¤šåªèƒ½é€‰æ‹©5ç§é¦™æ–™');
                    return;
                }
                
                // æ·»åŠ é€‰æ‹©
                selectedIngredients.push({
                    name: ingredientName,
                    image: ingredientImage
                });
                localStorage.setItem('selectedIngredients', JSON.stringify(selectedIngredients));
                button.textContent = 'å–æ¶ˆé€‰æ‹©';
                button.classList.add('selected');
                showSuccessToast('å·²é€‰æ‹© ' + ingredientName + ' (' + selectedIngredients.length + '/5)');
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶æ›´æ–°æŒ‰é’®çŠ¶æ€
        document.addEventListener('DOMContentLoaded', function() {
            const ingredientName = 'æŸ æª¬';
            const ingredientImage = 'perfume-workshop/images/è¥¿è¥¿é‡ŒæŸ æª¬.jpeg';
            
            let selectedIngredients = [];
            try {
                selectedIngredients = JSON.parse(localStorage.getItem('selectedIngredients') || '[]');
            } catch(e) {}
            
            const isSelected = selectedIngredients.some(item => 
                (typeof item === 'string' && item === ingredientImage) || 
                (typeof item === 'object' && item.name === ingredientName)
            );
            
            const button = document.querySelector('.select-button');
            if (isSelected) {
                button.textContent = 'å–æ¶ˆé€‰æ‹©';
                button.classList.add('selected');
            } else {
                button.textContent = 'é€‰æ‹©';
                button.classList.remove('selected');
            }
        });
    </script>
</body>
</html> 